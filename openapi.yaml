# openapi.yaml (Auto-generated from openapi.template.yaml)
# DO NOT EDIT THIS FILE DIRECTLY - Edit openapi.template.yaml instead
# This file is used by frontend code generation tools
# Generated at: 2025-10-19T17:09:03.171Z
openapi: 3.0.1
info:
  title: My WebApp API
  version: v1.0
paths:
  /items:
    get:
      summary: Get a list of items for the authenticated user
      security:
        - CognitoAuthorizer: []
      responses:
        "200":
          description: A list of items
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Item"
  /edge-probe:
    get:
      summary: Edge probe endpoint - returns request headers (public endpoint)
      description: |
        Public endpoint that returns information about the received HTTP request,
        including headers and request context. Useful for debugging CDN and edge routing.
        This endpoint does not require authentication.
      tags:
        - Edge Diagnostics
      responses:
        "200":
          description: Request header information
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EdgeProbeResult"
        "500":
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: Failed to process request
components:
  schemas:
    Item:
      type: object
      properties:
        id:
          type: integer
          example: 1
        name:
          type: string
          example: My Awesome Item
    EdgeProbeResult:
      type: object
      required:
        - receivedHost
        - requestContextDomain
        - method
        - path
      properties:
        receivedHost:
          type: string
          description: Host header received by the server
          example: api.vfs-tracker.app
        requestContextDomain:
          type: string
          description: Domain from request context
          example: api.vfs-tracker.app
        method:
          type: string
          description: HTTP method
          example: GET
        path:
          type: string
          description: Request path
          example: /dev/edge-probe
        headers:
          type: object
          description: All received HTTP headers
          additionalProperties:
            type: string
          example:
            user-agent: Mozilla/5.0
            accept: application/json
        timestamp:
          type: string
          format: date-time
          description: Request timestamp
          example: 2025-10-16T08:30:00Z
  securitySchemes:
    CognitoAuthorizer:
      type: openIdConnect
      openIdConnectUrl: https://cognito-idp.us-east-1.amazonaws.com/us-east-1_EXAMPLE
